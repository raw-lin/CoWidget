<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="expires" content="-1" />

<title>NetXhr</title>

<script type="text/javascript">
	'use strict';
	let coWidgetConfig = {
			logger : {
				'root' : 'DEBUG'
			},
			packages : {
				debug : './debug'
			}
	};
</script>
<script type="text/javascript" src="../../cowidget/CoWidget.js"></script>
<body class="api">

	<h1>NetXhr Test</h1>

	<pre id="logger" style="margin: auto; width: 100%; height: 300px; overflow: scroll; border:1px #080808 solid;"></pre>

	<script type="text/javascript">
		'use strict';

		if (false) {
			cowidget.common;
			mock.common;
			
			
			cowidget.common.LogFactory = debug.common.LogFactory;
			cowidget.common.Log = debug.common.Log;
			
			cowidget.common.NetXhr = debug.common.NetXhr;

			//cowidget.service.MockService = mock.common.MockService;
		}

		let LOG = cowidget.common.LogFactory.getLog();

		let xhrArgs = {
			url : '/ExampleWeb/mock/service/usecase.json',
			sync : true,
			handleAs : 'json'
		}

		LOG.debug('xhrArgs: ', xhrArgs);

		if (true) {
			let netXhrResult = null;
			cowidget.common.NetXhr.requestPromise(xhrArgs).then(async (result) => {
				LOG.debug('Promise result: ', result);
				
				netXhrResult = await result;
				LOG.debug('Promise netXhrResult: ', netXhrResult);
			});			
		}

		if (false) {
			LOG.debug('result: ', cowidget.common.NetXhr.request(xhrArgs).getResult());
		}
		
		LOG.debug('---------------------------------------------------------');
	</script>
</body>
</html>